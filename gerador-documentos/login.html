<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Login — Gerador de Documentos</title>
  <link rel="stylesheet" href="gd-style.css"/>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="gd-body">
  <div class="gd-login-wrap">
    <h1 class="gd-title">Gerador de Documentos</h1>
    <form id="gdLoginForm" class="gd-card">
      <label class="gd-label" for="gdEmail">E-mail</label>
      <input id="gdEmail" class="gd-input" type="email" placeholder="seuemail@empresa.com" required/>

      <label class="gd-label" for="gdSenha">Senha</label>
      <div class="gd-passbox">
        <input id="gdSenha" class="gd-input" type="password" placeholder="••••••••" required/>
        <button type="button" class="gd-eye" id="gdEye" aria-label="Mostrar/ocultar senha">👁️</button>
      </div>

      <button class="gd-btn gd-btn-primary" type="submit">Entrar</button>
    </form>
  </div>

  <script>
    // Olho da senha
    const eye = document.getElementById('gdEye');
    const pass = document.getElementById('gdSenha');
    eye.addEventListener('click', ()=>{ pass.type = pass.type === 'password' ? 'text' : 'password'; });

    // Login isolado (não toca no outro módulo)
    document.getElementById('gdLoginForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      const email = document.getElementById('gdEmail').value.trim().toLowerCase();
      const senha = document.getElementById('gdSenha').value;

      // Se quiser, trocamos por validação via JSON próprio depois
      if(!email || !senha){
        Swal.fire("Atenção","Preencha e-mail e senha.","warning");
        return;
      }

      // Guarda contexto do GD independente
      localStorage.setItem('gd_usuario', JSON.stringify({ email, nome: email.split('@')[0].toUpperCase() }));
      Swal.fire({icon:"success", title:"Login ok!", showConfirmButton:false, timer:1200});
      setTimeout(()=>location.href="contrato.html", 900);
    });
  </script>
</body>
</html>
