<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gerador de documentos</title>
<style>
  :root{
    --bg:#f1f1f1;
    --card:#ffffff;
    --text:#1f2937;
    --muted:#6b7280;
    --border:#d1d5db;
    --capbg:#f3f4f6;
    --accent:#2ea3f2;      /* azul do botão habilitado, steps done/active e foco */
    --accentText:#ffffff;
    --disabled:#cbd5e1;    /* cinza do botão desabilitado */
    --disabledText:#6b7280;
    --back:#f59e0b;        /* laranja do "Voltar" */
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);font:15px/1.45 Arial, Helvetica, sans-serif;}
  .wrap{max-width:420px;margin:0 auto;padding:10px 10px 18px;}

  /* Stepper topo (5 passos) */
  .stepper{display:flex;align-items:center;gap:10px;justify-content:center;margin:10px 0 6px}
  .dot{width:18px;height:18px;border-radius:50%;border:1px solid #c7c7c7;color:#4b5563;display:flex;align-items:center;justify-content:center;font-size:11px;background:#fff}
  .dot.done{background:var(--accent);border-color:var(--accent);color:#fff;font-weight:700}
  .dot.active{background:var(--accent);border-color:var(--accent);color:#fff;font-weight:700;box-shadow:0 0 0 2px rgba(46,163,242,.35);}
  .line{height:1px;flex:1;background:#c7c7c7;max-width:24px}
  .line.done{background:var(--accent)} /* CORREÇÃO 1: pinta a linha já avançada */

  /* Card */
  .card{background:var(--card);border:1px solid var(--border);border-radius:3px;overflow:hidden;box-shadow:0 1px 0 rgba(0,0,0,.04)}
  .header{padding:14px 14px 6px 14px}
  .title{font-family: Georgia, 'Times New Roman', Times, serif;font-weight:600;font-size:22px;margin:0 0 6px 0;color:#111827}
  .user{font-size:13px;color:#4b5563;margin:0 0 8px 0}
  .code{font-size:13px;color:#374151;margin:0 0 8px 0}
  .code b{font-weight:700}

  .body{padding:12px 14px 16px}
  .intro{color:#4b5563;margin:0 0 10px 0}

  /* Field blocks com cabeçalho interno */
  .block{border:1px solid var(--border);background:#fff;margin:0 0 12px 0}
  .block .cap{background:var(--capbg);color:#6b7280;font-size:12px;text-transform:uppercase;letter-spacing:.3px;padding:6px 8px;border-bottom:1px solid var(--border)}
  .block .cap .req{color:#dc2626}
  .block .content{padding:8px}
  .textarea, .input{width:100%;border:1px solid #e5e7eb;background:#fff;padding:8px;border-radius:2px;font:15px/1.45 Arial, Helvetica, sans-serif;color:#111827;outline:none;transition:border-color .15s ease, box-shadow .15s ease}
  .textarea{min-height:120px;resize:vertical}
  .textarea:focus, .input:focus{border-color:var(--accent);box-shadow:0 0 0 2px rgba(46,163,242,.25)}

  /* Bottom bar (desabilitada x habilitada) */
  .bar{position:sticky;bottom:0;left:0;right:0;text-align:center;padding:14px;font-weight:700;cursor:default;margin-top:10px;border-top:1px solid #e5e7eb}
  .bar.disabled{background:var(--disabled);color:var(--disabledText)}
  .bar.enabled{background:var(--accent);color:var(--accentText);cursor:pointer}

  /* CORREÇÃO 2: botão voltar (link) na etapa 2 */
  .back{display:flex;align-items:center;gap:6px;justify-content:center;color:#111827;font-size:14px;margin-top:6px;cursor:pointer;user-select:none}
  .back .chev{color:var(--back)}

  .hidden{display:none}
</style>
</head>
<body>
  <div class="wrap">
    <!-- STEPPER TELA 1 -->
    <div class="stepper" id="stepper1" aria-label="Etapas">
      <div class="dot active">1</div><div class="line"></div>
      <div class="dot">2</div><div class="line"></div>
      <div class="dot">3</div><div class="line"></div>
      <div class="dot">4</div><div class="line"></div>
      <div class="dot">5</div>
    </div>

    <!-- TELA 1 -->
    <div class="card" id="screen1">
      <div class="header">
        <h2 class="title">Gerador de documentos</h2>
        <p class="user">Rafael Ramos<br>rafael.@imparsistemas.com</p>
      </div>
      <div class="body">
        <p class="intro">Informar a código do projeto no campo abaixo. Esse código será a chave para busca de documentos e utilizado para outras funcionalidades importantes na empresa</p>
        <div class="block">
          <div class="cap">CÓDIGO <span class="req">*</span></div>
          <div class="content">
            <input id="codigo" class="input" placeholder="Digite o código do projeto" oninput="validate1()">
          </div>
        </div>
      </div>
    </div>
    <div id="bar1" class="bar disabled" onclick="noop()">Continuar</div>

    <!-- STEPPER TELA 2 -->
    <div class="stepper hidden" id="stepper2" aria-label="Etapas">
      <div class="dot done">1</div><div class="line done" id="line12"></div>
      <div class="dot active">2</div><div class="line"></div>
      <div class="dot">3</div><div class="line"></div>
      <div class="dot">4</div><div class="line"></div>
      <div class="dot">5</div>
    </div>

    <!-- TELA 2 -->
    <div class="card hidden" id="screen2">
      <div class="header">
        <h2 class="title">Gerador de documentos</h2>
        <p class="user">Rafael Ramos<br>rafael.@imparsistemas.com</p>
        <p class="code">Código Projeto: <b id="codigoVal">AC00025</b></p>
      </div>
      <div class="body">
        <div class="block">
          <div class="cap">SERVIÇO <span class="req">*</span></div>
          <div class="content">
            <textarea id="servico" class="textarea" placeholder="Digite o serviço do projeto" oninput="validate2()"></textarea>
          </div>
        </div>

        <div class="block">
          <div class="cap">ENDEREÇO DA OBRA <span class="req">*</span></div>
          <div class="content">
            <input id="endereco" class="input" placeholder="Digite o endereço da obra" oninput="validate2()">
          </div>
        </div>
      </div>
    </div>
    <div id="bar2" class="bar hidden disabled" onclick="noop()">Continuar</div>
    <div id="back2" class="back hidden" onclick="voltar2()"><span class="chev">◀</span> Voltar</div>
  </div>

<script>
  function noop(){}

  // Validação tela 1
  function validate1(){
    const val = document.getElementById('codigo').value.trim();
    const bar = document.getElementById('bar1');
    if(val){
      bar.classList.remove('disabled');
      bar.classList.add('enabled');
      bar.onclick = continuar1;
    }else{
      bar.classList.add('disabled');
      bar.classList.remove('enabled');
      bar.onclick = noop;
    }
  }

  function continuar1(){
    const codigo = document.getElementById('codigo').value.trim();
    if(!codigo) return;
    document.getElementById('codigoVal').textContent = codigo;

    document.getElementById('screen1').classList.add('hidden');
    document.getElementById('stepper1').classList.add('hidden');
    document.getElementById('bar1').classList.add('hidden');

    document.getElementById('screen2').classList.remove('hidden');
    document.getElementById('stepper2').classList.remove('hidden');
    document.getElementById('bar2').classList.remove('hidden');
    document.getElementById('back2').classList.remove('hidden');

    setTimeout(()=>document.getElementById('servico').focus(), 50);
    validate2();
  }

  // Validação tela 2
  function validate2(){
    const s = document.getElementById('servico').value.trim();
    const e = document.getElementById('endereco').value.trim();
    const bar = document.getElementById('bar2');
    if(s && e){
      bar.classList.remove('disabled');
      bar.classList.add('enabled');
      bar.onclick = continuar2;
    }else{
      bar.classList.add('disabled');
      bar.classList.remove('enabled');
      bar.onclick = noop;
    }
  }

  // Voltar da etapa 2 para 1 (restaura stepper sem linha pintada)
  function voltar2(){
    document.getElementById('screen2').classList.add('hidden');
    document.getElementById('stepper2').classList.add('hidden');
    document.getElementById('bar2').classList.add('hidden');
    document.getElementById('back2').classList.add('hidden');

    document.getElementById('screen1').classList.remove('hidden');
    document.getElementById('stepper1').classList.remove('hidden');
    document.getElementById('bar1').classList.remove('hidden');
    document.getElementById('codigo').focus();
    validate1();
  }

  function continuar2(){
    alert('OK! Próxima etapa será implementada após sua validação desta tela.');
  }

  // Inicializa o estado do botão da tela 1
  validate1();
</script>
</body>
</html>
