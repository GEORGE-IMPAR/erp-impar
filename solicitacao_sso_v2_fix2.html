<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ERP √çMPAR ‚Äì Solicita√ß√£o de Materiais</title>

  <!-- Tom Select / SweetAlert2 / EmailJS -->
  <link href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>

  <!-- Layout √çMPAR Premium ‚Äì mesmo padr√£o do cronograma/farol -->
  <style>
    :root{
      --bg:#020617;
      --card:#020617;
      --border:#1f2937;
      --text:#e5e7eb;
      --text-soft:#9ca3af;
      --blue:#3b82f6;
      --blue-dark:#1d4ed8;
      --green:#22c55e;
      --yellow:#eab308;
      --red:#ef4444;
      --accent:#cc6e00;
    }
    *{box-sizing:border-box;margin:0;padding:0}

    body{
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      background:
        radial-gradient(circle at top left,#1d4ed8 0,transparent 55%),
        radial-gradient(circle at bottom right,#f97316 0,transparent 55%),
        linear-gradient(120deg,#020617,#020617 60%,#030712);
      color:var(--text);
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    header{
      padding:10px 16px 4px;
      display:flex;
      justify-content:center;
    }
    .header-inner{
      width:100%;
      max-width:1200px;
      display:flex;
      justify-content:space-between;
      gap:16px;
      align-items:flex-start;
    }
    .brand{
      display:flex;
      flex-direction:column;
      gap:2px;
      text-shadow:0 2px 6px rgba(0,0,0,.8);
    }
    .brand span:nth-child(1){
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.22em;
      opacity:.9;
    }
    .brand span:nth-child(2){
      font-size:20px;
      font-weight:800;
    }
    .brand span:nth-child(3){
      font-size:11px;
      opacity:.9;
    }
    .tag-top{
      font-size:11px;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(15,23,42,.9);
      border:1px solid rgba(148,163,184,.7);
      color:var(--text-soft);
      display:flex;
      gap:8px;
      align-items:center;
      margin-top:12px;
    }
    .pill-btn{
      border:none;
      background:transparent;
      color:inherit;
      font:inherit;
      display:flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
    }
    .pill-btn .icn{font-size:14px;}

    main{
      flex:1;
      display:flex;
      justify-content:center;
      padding:12px 16px 18px;
    }
    .layout{
      width:100%;
      max-width:1200px;
      display:flex;
      justify-content:center;
    }
    .container{
      width:100%;
      background:radial-gradient(circle at top left,rgba(59,130,246,.16) 0,transparent 55%),
                 radial-gradient(circle at bottom right,rgba(248,113,113,.14) 0,transparent 55%),
                 linear-gradient(135deg,rgba(15,23,42,.98),rgba(12,10,25,.98));
      border-radius:18px;
      border:1px solid rgba(148,163,184,.6);
      box-shadow:0 24px 60px rgba(15,23,42,.9);
      padding:18px 18px 16px;
    }

    h1{
      font-size:18px;
      margin-bottom:4px;
    }
    .subtitulo{
      font-size:12px;
      color:var(--text-soft);
      margin-bottom:10px;
    }

    form{
      margin-top:4px;
      font-size:12px;
    }
    label{
      display:block;
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.08em;
      color:#9ca3af;
      margin-bottom:4px;
    }
    input,select{
      width:100%;
      padding:6px 8px;
      border-radius:8px;
      border:1px solid #111827;
      background:#020617;
      color:var(--text);
      font-size:12px;
      outline:none;
    }
    input:focus,select:focus{
      border-color:var(--blue);
      box-shadow:0 0 0 1px rgba(59,130,246,.6);
    }
    input[disabled]{
      opacity:.85;
      cursor:not-allowed;
    }

    .form-row{
      display:flex;
      gap:12px;
      margin-bottom:8px;
      flex-wrap:wrap;
    }
    .form-row>div{
      flex:1 1 0;
      min-width:160px;
    }

    .modo-manual-box{
      margin-top:4px;
      font-size:11px;
      color:var(--text-soft);
    }
    .modo-manual-box label{
      text-transform:none;
      letter-spacing:0;
      display:flex;
      align-items:center;
      gap:6px;
      margin:0;
      cursor:pointer;
    }
    .modo-manual-box input[type="checkbox"]{
      width:auto;
      accent-color:var(--blue);
    }

    .btn-primary,
    .btn-secondary{
      border:none;
      border-radius:999px;
      padding:7px 14px;
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.12em;
      font-weight:600;
      cursor:pointer;
    }
    .btn-primary{
      background:linear-gradient(135deg,#22c55e,#16a34a);
      color:#020617;
      box-shadow:0 10px 30px rgba(22,163,74,.6);
    }
    .btn-secondary{
      background:#111827;
      color:#fff;
      border:1px solid #374151;
    }

    .actions{
      margin-top:8px;
      margin-bottom:4px;
      display:flex;
      flex-wrap:wrap;
      gap:6px;
    }

    .header-info{
      margin-top:2px;
      margin-bottom:6px;
      font-size:12px;
      color:#cfd8ff;
    }
    .header-info strong{font-weight:600;}

    .table-wrapper{
      overflow-x:auto;
      border-radius:12px;
      border:1px solid #111827;
      margin-top:6px;
    }
    table{
      width:100%;
      border-collapse:collapse;
      font-size:11px;
      background:#020617;
      min-width:480px;
    }
    th,td{
      padding:5px 6px;
      border-bottom:1px solid #1f2937;
      text-align:left;
    }
    th{
      background:#020617;
      position:sticky;
      top:0;
      z-index:1;
      font-weight:600;
      color:var(--text-soft);
    }
    tbody tr:hover{
      background:#111827;
    }
    .btn-remover{
      cursor:pointer;
    }

    footer{
      background:#020617;
      color:#9ca3af;
      padding:6px 16px;
      font-size:10px;
    }
    .rodape-inner{
      max-width:1200px;
      margin:0 auto;
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }

    @media(max-width:900px){
      .container{padding:14px 12px 16px;}
      h1{font-size:16px;}
    }
  </style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="brand">
      <span>PLATAFORMA</span>
      <span>ERP √çMPAR ‚Ä¢ Solicita√ß√£o de Materiais</span>
      <span>Padroniza√ß√£o do pedido, do canteiro ao suprimentos</span>
    </div>
    <div class="tag-top">
      <button class="pill-btn" type="button" id="btnVoltarMenu">
        <span class="icn">üè†</span> Menu principal
      </button>
    </div>
  </div>
</header>

<main>
  <div class="layout">
    <div class="container">

      <h1>Solicita√ß√£o de Materiais - √çMPAR</h1>
      <div class="subtitulo">
        Preencha os dados da obra, inclua os materiais desejados e envie a solicita√ß√£o
        padronizada para o time de suprimentos.
      </div>

      <!-- informa√ß√£o do usu√°rio logado -->
      <p id="user-info" class="header-info" style="text-align:left;"></p>

      <form id="solicitacaoForm">
        <!-- Linha 1: Obra / Centro de custo / Prazo -->
        <div class="form-row">
          <div>
            <label for="obra">Obra</label>
            <select id="obra" required>
              <option value="">Selecione a obra.</option>
            </select>
          </div>
          <div>
            <label for="centroCusto">Centro de Custo</label>
            <input type="text" id="centroCusto" readonly disabled />
          </div>
          <div>
            <label for="prazo">Prazo limite de entrega</label>
            <input type="date" id="prazo" required />
          </div>
        </div>

        <!-- Linha 2: Material / Quantidade / Observa√ß√£o -->
        <div class="form-row">
          <div>
            <label for="material">Material</label>

            <!-- MODO LISTA (padr√£o) -->
            <select id="material">
              <option value="">Selecione o material.</option>
            </select>

            <!-- MODO MANUAL (fica escondido at√© marcar o checkbox) -->
            <input
              type="text"
              id="materialManual"
              placeholder="Digite o material manualmente"
              style="display:none; margin-top:4px;"
            />

            <!-- Checkbox de troca -->
            <div class="modo-manual-box">
              <label>
                <input type="checkbox" id="modoManual">
                <span>N√£o utilizar lista de material do sistema (input manual)</span>
              </label>
            </div>
          </div>

          <div>
            <label for="quantidade">Quantidade</label>
            <input type="number" id="quantidade" placeholder="Digite a quantidade" />
          </div>
          <div>
            <label for="observacao">Observa√ß√£o (opcional)</label>
            <input type="text" id="observacao"
                   placeholder="Ex.: marca preferencial, cor, metragem." />
          </div>
        </div>

        <div class="actions">
          <button type="button" id="adicionarMaterial" class="btn-secondary">
            Adicionar material
          </button>
        </div>

        <!-- Tabela de materiais -->
        <div class="table-wrapper">
          <table id="tabelaMateriais">
            <thead>
              <tr>
                <th>Material</th>
                <th>UND</th>
                <th>Quantidade</th>
                <th>Observa√ß√£o</th>
                <th>A√ß√£o</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- Linha 3: Local de entrega -->
        <div class="form-row" style="margin-top:12px;">
          <div>
            <label for="localEntrega">Local de entrega</label>
            <select id="localEntrega" required>
              <option value="">Selecione o local.</option>
              <option value="Impar">Impar</option>
              <option value="Cliente">Cliente</option>
            </select>
          </div>
        </div>

        <div class="actions" style="margin-top:10px;">
          <button type="submit" class="btn-primary">
            Enviar solicita√ß√£o
          </button>
        </div>
      </form>

    </div>
  </div>
</main>

<footer>
  <div class="rodape-inner">
    <span>¬© 2025 ERP √çMPAR ‚Ä¢ M√≥dulo Solicita√ß√£o de Materiais</span>
    <span>Layout integrado ao cronograma e farol de obras</span>
  </div>
</footer>

<script>
  // Voltar para o menu principal
  document.getElementById("btnVoltarMenu").addEventListener("click", () => {
    window.location.href = "./index.html";
  });
</script>

<!-- JS da aplica√ß√£o -->
<script src="assets/js/script_materiais_sso_v2_fix2.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script src="assets/js/script_email_sso_fix2.js"></script>

</body>
</html>

